extends ../layout

block content
  main.main-page
    h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
    p
      | –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè

    if (!articles.length)
      include empty

    else
      include ../partials/categories

      include hot

      section.main-page__list.preview
        h2.visually-hidden –°–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—å—é —Å—Ç–∞—Ç–µ–π
        ul.preview__list
          each article in articles
            li.preview__item
              ul.preview__breadcrumbs
                +categoriesList(article.categories)
              if (article.picture)
                .preview__background
                  img.preview__background-image(src=`/img/${article.picture}` width='460' height='240'  alt=`${article.title}`)
              time.preview__time(datetime=`${article.createdAt}`) #{formatDate(article.createdAt)}
              h3.preview__name
                a.preview__name-link(href=`/articles/${article.id}`) #{article.title}
              p.preview__text
                | #{article.announce}
              a.preview__comment(href=`/articles/${article.id}`)
                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
                span.preview__cloud
                b.preview__comment-count #{article.commentsCount}

        +pagination(page, totalPages, 2, `?`)
